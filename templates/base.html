{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Платформа курсів</title>
  <link rel="stylesheet" href="{% static 'output.css' %}">
  <link rel="stylesheet" href="{% static 'styles.css' %}">
  {% block css %}

  {% endblock %}
</head>

<body class="bg-[#f5f7fa] min-h-screen flex flex-col">

  <nav class="fixed top-0 left-0 w-full z-40 bg-[#19183B] border-b border-[#708993]/40 shadow-lg">
    <div class=" grid md:grid-cols-3 grid-cols-2 items-center justify-between max-w-7xl mx-auto px-4 sm:px-6 h-16">

      <!-- Logo -->
      <a href="#" class="flex items-center gap-3 hover:opacity-80 transition">
        <span class="text-xl font-bold text-white">Academy</span>
      </a>

      <!-- Right section -->
      <div class="flex items-center justify-self-end gap-3 md:order-2">
        {% if user.is_authenticated %}
          <button type="button"
                  class="flex items-center justify-center w-10 h-10 rounded-full hover:ring-4 hover:ring-[#ff9d32]/40 transition"
                  id="user-menu-button"
                  data-dropdown-toggle="user-dropdown">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#FFFFFF"><path
                  d="M226-262q59-42.33 121.33-65.5 62.34-23.17 132.67-23.17 70.33 0 133 23.17T734.67-262q41-49.67 59.83-103.67T813.33-480q0-141-96.16-237.17Q621-813.33 480-813.33t-237.17 96.16Q146.67-621 146.67-480q0 60.33 19.16 114.33Q185-311.67 226-262Zm253.88-184.67q-58.21 0-98.05-39.95Q342-526.58 342-584.79t39.96-98.04q39.95-39.84 98.16-39.84 58.21 0 98.05 39.96Q618-642.75 618-584.54t-39.96 98.04q-39.95 39.83-98.16 39.83ZM480.31-80q-82.64 0-155.64-31.5-73-31.5-127.34-85.83Q143-251.67 111.5-324.51T80-480.18q0-82.82 31.5-155.49 31.5-72.66 85.83-127Q251.67-817 324.51-848.5T480.18-880q82.82 0 155.49 31.5 72.66 31.5 127 85.83Q817-708.33 848.5-635.65 880-562.96 880-480.31q0 82.64-31.5 155.64-31.5 73-85.83 127.34Q708.33-143 635.65-111.5 562.96-80 480.31-80Zm-.31-66.67q54.33 0 105-15.83t97.67-52.17q-47-33.66-98-51.5Q533.67-284 480-284t-104.67 17.83q-51 17.84-98 51.5 47 36.34 97.67 52.17 50.67 15.83 105 15.83Zm0-366.66q31.33 0 51.33-20t20-51.34q0-31.33-20-51.33T480-656q-31.33 0-51.33 20t-20 51.33q0 31.34 20 51.34 20 20 51.33 20Zm0-71.34Zm0 369.34Z"/></svg>
            </span>
          </button>

          <!-- Dropdown -->
          <div id="user-dropdown"
               class="hidden w-48 bg-white/95 backdrop-blur-md border border-gray-200 rounded-xl shadow-xl overflow-hidden">

            <div class="px-4 py-3 text-sm border-b border-gray-200 bg-white">
              <p class="font-semibold text-[#19183B]">{{ user.get_full_name }}</p>
              <p class="text-[#708993] truncate">{{ user.email }}</p>
            </div>

            <ul class="p-2 text-sm text-[#19183B] font-medium space-y-2">
              <li><a href="{% url 'students:profile' %}"
                     class="block text-center rounded-xl p-2 hover:bg-gray-100 transition">Мій профіль</a></li>
              <li><a href="{% url 'students:student_course_list' %}"
                     class="block text-center rounded-xl p-2 hover:bg-gray-100 transition">Моє навчання</a></li>
              <li><a href="{% url 'subscriptions:subscription_change' %}"
                     class="block text-center rounded-xl p-2 hover:bg-gray-100 transition">Керування підпискою</a></li>
              <form action="{% url 'logout' %}" method="post" class="grid">
                {% csrf_token %}
                <button type="submit" class="block rounded-xl p-2 hover:bg-red-500 transition cursor-pointer">Вийти
                </button>
              </form>
            </ul>
          </div>
        {% else %}
          <a href="{% url 'login' %}"
             class="inline-block text-white bg-[#539db8] hover:bg-[#ff9d32] focus:ring-4 focus:ring-[#A1C2BD]/50 shadow-md font-semibold rounded-lg text-sm px-4 py-2 transition-all duration-200">
            Увійти
          </a>
        {% endif %}

      <div class="text-center md:hidden">
         <button class="inline-flex items-center justify-center text-white bg-brand box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none" type="button" data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation" aria-controls="drawer-navigation">
           <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
               stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" d="M5 7h14M5 12h14M5 17h14"/>
          </svg>
         </button>
      </div>
      </div>
    </div>
  </nav>


  <main class="flex-grow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 mt-24">
        {% block content %}
        {% endblock %}
    </div>
  </main>

  <div id="drawer-navigation"
         class="fixed top-0 left-0 z-50 h-screen w-full max-w-[500px]
            -translate-x-full transition-transform
            bg-[var(--color-primary-dark)]
            text-white shadow-2xl">

      <!-- HEADER -->
      <div class="flex items-center justify-between px-6 py-5 border-b border-white/10">

        <a href="{% url 'course_list' %}"
           class="text-lg font-bold tracking-wide">
          Academy
        </a>

        <button data-drawer-hide="drawer-navigation"
                class="w-9 h-9 flex items-center justify-center
                     rounded-lg hover:bg-white/10 transition">

          ✕
        </button>
      </div>


      <!-- NAVIGATION -->
      <nav class="p-6 space-y-2">

        <a href="{% url 'course_list' %}" class="drawer-link">
          Курси
        </a>

        <a href="{% url 'about' %}" class="drawer-link">
          Про нас
        </a>


        {% if user.is_staff %}
          <a href="{% url 'admin:index' %}" class="drawer-link">
           Admin panel
          </a>
        {% endif %}


      </nav>

    </div>

  <footer class="bg-[#19183B] text-white mt-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-10">

      <div class="grid gap-8 md:grid-cols-3">

        <!-- Brand -->
        <div>
          <h3 class="text-lg font-semibold">Academy</h3>
          <p class="mt-3 text-sm text-gray-300">
            Платформа онлайн-навчання з автоматичним доступом до курсів
            відповідно до обраного тарифного плану.
          </p>
        </div>

        <!-- Navigation -->
        <div>
          <h4 class="font-semibold mb-3">Навігація</h4>
          <ul class="space-y-2 text-sm text-gray-300">
            <li>
              <a href="{% url 'course_list' %}" class="hover:text-[#ff9d32] transition">
                Курси
              </a>
            </li>
            <li>
              <a href="{% url 'about' %}" class="hover:text-[#ff9d32] transition">
                Про нас
              </a>
            </li>
            <li>
              <a href="{% url 'login' %}" class="hover:text-[#ff9d32] transition">
                Увійти
              </a>
            </li>
          </ul>
        </div>

        <!-- Contact -->
        <div>
          <h4 class="font-semibold mb-3">Контакти</h4>
          <p class="text-sm text-gray-300">
            Email:
            <a href="mailto:chernobay.i2112@gmail.com"
               class="hover:text-[#ff9d32] transition">
              chernobay.i2112@gmail.com
            </a>
          </p>
        </div>

      </div>

      <!-- Bottom line -->
      <div class="border-t border-white/10 mt-8 pt-6 text-center text-sm text-gray-400">
        © 2026 Academy Platform. All rights reserved.
      </div>

    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.js"></script>

</body>
</html>