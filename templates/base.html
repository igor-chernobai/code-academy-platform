{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Платформа курсів</title>
  <link rel="stylesheet" href="{% static 'src/output.css' %}">
  <link rel="stylesheet" href="{% static 'src/styles.css' %}">
  {% block css %}

  {% endblock %}
</head>
<body class="bg-[#f5f7fa]">
<nav class="fixed top-0 left-0 w-full z-40 bg-[#19183B] border-b border-[#708993]/40 shadow-lg">
  <div class=" grid md:grid-cols-3 grid-cols-2 items-center justify-between max-w-7xl mx-auto px-4 sm:px-6 h-16">

    <!-- Logo -->
    <a href="#" class="flex items-center gap-3 hover:opacity-80 transition">
      <span class="text-xl font-bold text-white">Academy</span>
    </a>

    <!-- Right section -->
    <div class="flex items-center justify-self-end gap-3 md:order-2">
      {% if user.is_authenticated %}
        <button type="button"
                class="flex items-center justify-center w-10 h-10 rounded-full hover:ring-4 hover:ring-[#ff9d32]/40 transition"
                id="user-menu-button"
                data-dropdown-toggle="user-dropdown">
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#FFFFFF"><path
                d="M226-262q59-42.33 121.33-65.5 62.34-23.17 132.67-23.17 70.33 0 133 23.17T734.67-262q41-49.67 59.83-103.67T813.33-480q0-141-96.16-237.17Q621-813.33 480-813.33t-237.17 96.16Q146.67-621 146.67-480q0 60.33 19.16 114.33Q185-311.67 226-262Zm253.88-184.67q-58.21 0-98.05-39.95Q342-526.58 342-584.79t39.96-98.04q39.95-39.84 98.16-39.84 58.21 0 98.05 39.96Q618-642.75 618-584.54t-39.96 98.04q-39.95 39.83-98.16 39.83ZM480.31-80q-82.64 0-155.64-31.5-73-31.5-127.34-85.83Q143-251.67 111.5-324.51T80-480.18q0-82.82 31.5-155.49 31.5-72.66 85.83-127Q251.67-817 324.51-848.5T480.18-880q82.82 0 155.49 31.5 72.66 31.5 127 85.83Q817-708.33 848.5-635.65 880-562.96 880-480.31q0 82.64-31.5 155.64-31.5 73-85.83 127.34Q708.33-143 635.65-111.5 562.96-80 480.31-80Zm-.31-66.67q54.33 0 105-15.83t97.67-52.17q-47-33.66-98-51.5Q533.67-284 480-284t-104.67 17.83q-51 17.84-98 51.5 47 36.34 97.67 52.17 50.67 15.83 105 15.83Zm0-366.66q31.33 0 51.33-20t20-51.34q0-31.33-20-51.33T480-656q-31.33 0-51.33 20t-20 51.33q0 31.34 20 51.34 20 20 51.33 20Zm0-71.34Zm0 369.34Z"/></svg>
          </span>
        </button>

        <!-- Dropdown -->
        <div id="user-dropdown"
             class="hidden w-48 bg-white/95 backdrop-blur-md border border-gray-200 rounded-xl shadow-xl overflow-hidden">

          <div class="px-4 py-3 text-sm border-b border-gray-200 bg-white">
            <p class="font-semibold text-[#19183B]">{{ user.get_full_name  }}</p>
            <p class="text-[#708993] truncate">{{ user.email }}</p>
          </div>

          <ul class="p-2 text-sm text-[#19183B] font-medium space-y-2">
            <li><a href="{% url 'students:profile' %}" class="block text-center rounded-xl p-2 hover:bg-gray-100 transition">Мій профіль</a></li>
            <li><a href="{% url 'student_course_list' %}" class="block text-center rounded-xl p-2 hover:bg-gray-100 transition">Моє навчання</a></li>
            <li><a href="{% url 'password_change' %}" class="block text-center rounded-xl p-2 hover:bg-gray-100 transition">Змінити пароль</a></li>
{#            <li><a href="#" class="block p-2 rounded hover:bg-[#f5f5f5] transition">Dashboard</a></li>#}
{#            <li><a href="#" class="block p-2 rounded hover:bg-[#f5f5f5] transition">Settings</a></li>#}
            <form action="{% url 'logout' %}" method="post" class="grid">
              {% csrf_token %}
              <button type="submit" class="rounded-xl p-2 hover:bg-red-500 transition">Вийти</button>
            </form>
          </ul>
        </div>
      {% else %}
        <a href="{% url 'login' %}"
           class="inline-block text-white bg-[#539db8] hover:bg-[#ff9d32] focus:ring-4 focus:ring-[#A1C2BD]/50 shadow-md font-semibold rounded-lg text-sm px-4 py-2 transition-all duration-200">
          Увійти
        </a>
      {% endif %}


      <!-- Mobile menu -->
      <button data-collapse-toggle="navbar-user" type="button"
              class="inline-flex items-center justify-center w-10 h-10 rounded-lg text-white hover:bg-[#539db8]/30 hover:text-[#ff9d32] transition md:hidden">

        <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" d="M5 7h14M5 12h14M5 17h14"/>
        </svg>
      </button>
    </div>

    <!-- Navigation links -->
    <div id="navbar-user" class="hidden md:flex justify-center md:order-1">
      <ul class="flex flex-col md:flex-row md:gap-8 mt-4 md:mt-0 p-4 md:p-0 bg-white/5 md:bg-transparent rounded-xl md:rounded-none backdrop-blur-sm">
        <li>
          <a href="{% url 'course_list' %}"
             class="px-4 py-2 font-medium rounded-lg text-white hover:text-[#ff9d32] hover:bg-[#539db8]/20 transition">
            Курси
          </a>
        </li>
        <li>
          <a href="#"
             class="px-4 py-2 font-medium rounded-lg text-white hover:text-[#ff9d32] hover:bg-[#539db8]/20 transition">
            Про нас
          </a>
        </li>

        {% if user.is_admin or user.is_staff %}
          <li>
            <a href="{% url 'admin:index' %}"
               class="px-4 py-2 font-medium rounded-lg text-white hover:text-[#ff9d32] hover:bg-[#539db8]/20 transition">
              Admin
            </a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>


<div class="">
  {% block content %}
  {% endblock %}
</div>

<script src="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.js"></script>

</body>
</html>
